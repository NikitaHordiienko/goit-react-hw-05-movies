{"version":3,"file":"static/js/78.3073d084.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/BackLink/BackLink.module.css?aa43","components/BackLink/BackLink.jsx","webpack://react-homework-template/./src/Pages/MovieDetailsPage/MovieDetailsPage.module.css?1154","Pages/MovieDetailsPage/MovieDetailsPage.jsx","services/moviesApi.js","services/status.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"backLink\":\"BackLink_backLink__JiXo7\"};","import { Link } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport css from './BackLink.module.css'\n\nconst BackLink = ({ to, children }) => {\n    return (\n        <Link className={css.backLink} to={to}>{children}</Link>\n    )\n}\n\nBackLink.propTypes = {\n    to: PropTypes.object.isRequired,\n    children: PropTypes.node.isRequired,\n}\n\nexport default BackLink;","// extracted by mini-css-extract-plugin\nexport default {\"description\":\"MovieDetailsPage_description__pCbIB\",\"descriptionThumb\":\"MovieDetailsPage_descriptionThumb__VKMmK\",\"descriptionThumbText\":\"MovieDetailsPage_descriptionThumbText__BXHsr\",\"descriptionImage\":\"MovieDetailsPage_descriptionImage__+M9fs\",\"descriptionThumbTitle\":\"MovieDetailsPage_descriptionThumbTitle__thQzf\",\"descriptionText\":\"MovieDetailsPage_descriptionText__1X0oz\",\"genreList\":\"MovieDetailsPage_genreList__URPK2\",\"infoThumb\":\"MovieDetailsPage_infoThumb__HskMO\",\"infoLinks\":\"MovieDetailsPage_infoLinks__3qi-a\",\"infoLink\":\"MovieDetailsPage_infoLink__wBUhX\",\"active\":\"MovieDetailsPage_active__Dq5R8\"};","import { useState, useEffect, Suspense } from \"react\";\nimport { getMoviesId } from \"services/moviesApi\";\nimport { useParams, useLocation } from 'react-router-dom';\nimport { NavLink, Outlet } from 'react-router-dom';\nimport BackLink from \"components/BackLink/BackLink\";\nimport Status from \"services/status\";\nimport Loader from \"components/Loader/Loader\";\nimport css from './MovieDetailsPage.module.css';\n\nexport default function MovieDetailsPage() {\n    const [status, setStatus] = useState(Status.IDLE);\n    const [movie, setMovie] = useState('');\n    const [error, setError] = useState(null);\n    const { movieId } = useParams();\n    const location = useLocation();\n\n    const backLinkHref = location.state?.from ?? \"/\";\n\n    useEffect(() => {\n        setStatus(Status.PENDING);\n\n        getMovieData()\n\n        // eslint-disable-next-line\n    },[])\n\n    const getMovieData = async () => {\n        try {\n            const movieInfo  = await getMoviesId(movieId)\n            setMovie(movieInfo)\n            setStatus(Status.RESOLVED);\n        } catch (err) {\n            console.log(err);\n            setError(error);\n            setStatus(Status.REJECTED);\n        }\n    }\n\n    return (\n        <>\n            {status === 'idle' && <></>}\n            {status === 'pending' && <Loader />}\n            {status === 'rejected' && <h2>Sorry, something went wrong.</h2>}\n            {status === 'resolved' &&\n                <>\n                    <div className={css.description}>\n                        <BackLink to={backLinkHref}>Back to movie list</BackLink>\n                        <div className={css.descriptionThumb}>\n                            <img className={css.descriptionImage} src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`} alt={movie.title} />\n                            <div className={css.descriptionThumbText}>\n                                <h3 className={css.descriptionThumbTitle}>{movie.title} ({movie.release_date.substring(0,4)})</h3>\n                                <p className={css.descriptionText}>User score: {Math.round(movie.vote_average * 10)}%</p>\n                                <h3 className={css.descriptionThumbTitle}>Overview</h3>\n                                <p className={css.descriptionText}>{movie.overview}</p>\n                                <h3 className={css.descriptionThumbTitle}>Genres:</h3>\n                                <ul className={css.genreList}>\n                                    {movie.genres.map(genre => {\n                                        return <li className={css.descriptionText} key={genre.id}>{genre.name}</li>\n                                    })}\n                                </ul>                            \n                            </div>                        \n                        </div>                    \n                    </div>\n                    <div className={css.infoThumb}>\n                        <h2 className={css.descriptionThumbTitle}>Additional information</h2>\n                        <div className={css.infoLinks}>\n                            <NavLink to={`/movies/${movie.id}/cast`} state={location.state} className={({ isActive }) => (isActive ? css.active : css.infoLink)}>Cast</NavLink>\n                            <NavLink to={`/movies/${movie.id}/reviews`} state={location.state} className={({ isActive }) => (isActive ? css.active : css.infoLink)}>Reviews</NavLink>\n                        </div>\n                    </div>            \n                    <Suspense fallback={<Loader/>}>\n                        <Outlet />\n                    </Suspense>\n                </>\n            }                           \n        </>        \n    )\n}","import axios from \"axios\";\n\nconst API_KEY = 'cf2dcd3ffc41a0e9e457c0dc88fdeaf2';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getMovies = async () => {\n    const { data } = await axios.get(`trending/movie/day?api_key=${API_KEY}`)\n    // console.log(data)\n    return data;\n}\n\nexport const getMoviesByQuery = async (query) => {\n    const { data } = await axios.get(`search/movie?query=${query}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`)\n    // console.log(data)\n    return data;\n}\n\nexport const getMoviesId = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n    // console.log(data)\n    return data;\n}\n\nexport const getCastById = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`)\n    // console.log(data)\n    return data;\n}\n\nexport const getReviewsById = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`)\n    // console.log(data)\n    return data;\n}\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;"],"names":["to","children","className","css","MovieDetailsPage","useState","Status","status","setStatus","movie","setMovie","error","setError","movieId","useParams","location","useLocation","backLinkHref","state","from","useEffect","getMovieData","getMoviesId","movieInfo","console","log","Loader","src","poster_path","alt","title","release_date","substring","Math","round","vote_average","overview","genres","map","genre","name","id","isActive","Suspense","fallback","API_KEY","axios","getMovies","data","getMoviesByQuery","query","getCastById","getReviewsById","IDLE","PENDING","RESOLVED","REJECTED"],"sourceRoot":""}