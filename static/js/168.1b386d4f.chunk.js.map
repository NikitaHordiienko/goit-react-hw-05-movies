{"version":3,"file":"static/js/168.1b386d4f.chunk.js","mappings":"gRACA,EAAwB,uBAAxB,EAA6D,6BAA7D,EAA4G,iCAA5G,EAAmJ,qB,SCMpI,SAASA,IACpB,OAA4BC,EAAAA,EAAAA,UAASC,EAAAA,EAAAA,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BH,EAAAA,EAAAA,UAAS,IAAvC,eAAOI,EAAP,KAAgBC,EAAhB,KACA,GAA0BL,EAAAA,EAAAA,UAAS,MAAnC,eAAOM,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WAENP,EAAUF,EAAAA,EAAAA,SAEVU,GAGH,GAAE,IAEH,IAAMA,EAAU,mCAAG,gHAEeC,EAAAA,EAAAA,IAAeJ,GAF9B,gBAEHK,EAFG,EAEHA,QACRR,GAAW,OAAIQ,IACfV,EAAUF,EAAAA,EAAAA,UAEa,IAAnBY,EAAQC,QACRX,EAAUF,EAAAA,EAAAA,UAPH,kDAUXc,QAAQC,IAAR,MACAT,EAASD,GAXE,0DAAH,qDAehB,OACI,gCACgB,SAAXJ,IAAqB,wBACV,YAAXA,IAAwB,SAACe,EAAA,EAAD,IACb,aAAXf,IAAyB,eAAIgB,UAAWC,EAAf,uDACd,aAAXjB,IACG,eAAIgB,UAAWC,EAAf,SACKf,EAAQgB,KAAI,SAAAC,GACT,OACI,gBAAIH,UAAWC,EAAf,WACI,sCAAY,iBAAMD,UAAWC,EAAjB,SAA2BE,EAAOC,aAC9C,uBAAID,EAAOE,YAF0BF,EAAOG,GAKvD,QAKpB,C,8LCtDKC,EAAU,mCAChBC,EAAAA,GAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAS,mCAAG,sGACED,EAAAA,GAAAA,IAAA,qCAAwCD,IAD1C,uBACbG,EADa,EACbA,KADa,kBAGdA,GAHc,2CAAH,qDAMTC,EAAgB,mCAAG,WAAOC,GAAP,yFACLJ,EAAAA,GAAAA,IAAA,6BAAgCI,EAAhC,oBAAiDL,EAAjD,+CADK,uBACpBG,EADoB,EACpBA,KADoB,kBAGrBA,GAHqB,2CAAH,sDAMhBG,EAAW,mCAAG,WAAOvB,GAAP,yFACAkB,EAAAA,GAAAA,IAAA,gBAAmBlB,EAAnB,oBAAsCiB,EAAtC,oBADA,uBACfG,EADe,EACfA,KADe,kBAGhBA,GAHgB,2CAAH,sDAMXI,EAAW,mCAAG,WAAOxB,GAAP,yFACAkB,EAAAA,GAAAA,IAAA,gBAAmBlB,EAAnB,4BAA8CiB,EAA9C,oBADA,uBACfG,EADe,EACfA,KADe,kBAGhBA,GAHgB,2CAAH,sDAMXhB,EAAc,mCAAG,WAAOJ,GAAP,yFACHkB,EAAAA,GAAAA,IAAA,gBAAmBlB,EAAnB,4BAA8CiB,EAA9C,2BADG,uBAClBG,EADkB,EAClBA,KADkB,kBAGnBA,GAHmB,2CAAH,qD,mBCtB3B,IAPe,CACbK,KAAM,OACNC,QAAS,UACTC,SAAU,WACVC,SAAU,W","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/moviesApi.js","services/status.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Reviews_title__t265C\",\"reviewsList\":\"Reviews_reviewsList__hDAQA\",\"reviewsListItem\":\"Reviews_reviewsListItem__FIdwO\",\"nik\":\"Reviews_nik__HyW3V\"};","import { useState, useEffect } from \"react\";\nimport { getReviewsById } from \"services/moviesApi\";\nimport { useParams } from 'react-router-dom';\nimport Status from \"services/status\";\nimport Loader from \"components/Loader/Loader\";\nimport css from './Reviews.module.css';\n\nexport default function Reviews() {\n    const [status, setStatus] = useState(Status.IDLE);\n    const [reviews, setReviews] = useState([]);\n    const [error, setError] = useState(null);\n    const { movieId } = useParams();\n\n    useEffect(() => {\n\n        setStatus(Status.PENDING);\n\n        getReviews();\n        \n        // eslint-disable-next-line\n    }, []);\n\n    const getReviews = async () => {\n        try {\n            const { results } = await getReviewsById(movieId);\n            setReviews([...results])\n            setStatus(Status.RESOLVED);\n            \n            if (results.length === 0) {\n                setStatus(Status.REJECTED);\n            }\n        } catch (err) {\n            console.log(err);\n            setError(error);\n        }\n    }\n    \n    return (\n        <>\n            {status === 'idle' && <></>}\n            {status === 'pending' && <Loader />}\n            {status === 'rejected' && <h2 className={css.title}>We don't have any reviews for this movie.</h2>}\n            {status === 'resolved' && \n                <ul className={css.reviewsList}>\n                    {reviews.map(review => {\n                        return (\n                            <li className={css.reviewsListItem} key={review.id}>\n                                <h3>Author: <span className={css.nik}>{review.author}</span></h3>\n                                <p>{review.content}</p>\n                            </li>\n                        ) \n                    })}\n                </ul>\n            }\n        </>\n    )\n}","import axios from \"axios\";\n\nconst API_KEY = 'cf2dcd3ffc41a0e9e457c0dc88fdeaf2';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getMovies = async () => {\n    const { data } = await axios.get(`trending/movie/day?api_key=${API_KEY}`)\n    // console.log(data)\n    return data;\n}\n\nexport const getMoviesByQuery = async (query) => {\n    const { data } = await axios.get(`search/movie?query=${query}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`)\n    // console.log(data)\n    return data;\n}\n\nexport const getMoviesId = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n    // console.log(data)\n    return data;\n}\n\nexport const getCastById = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`)\n    // console.log(data)\n    return data;\n}\n\nexport const getReviewsById = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`)\n    // console.log(data)\n    return data;\n}\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;"],"names":["Reviews","useState","Status","status","setStatus","reviews","setReviews","error","setError","movieId","useParams","useEffect","getReviews","getReviewsById","results","length","console","log","Loader","className","css","map","review","author","content","id","API_KEY","axios","getMovies","data","getMoviesByQuery","query","getMoviesId","getCastById","IDLE","PENDING","RESOLVED","REJECTED"],"sourceRoot":""}