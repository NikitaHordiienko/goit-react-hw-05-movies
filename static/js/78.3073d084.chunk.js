"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[78],{78:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(861),a=n(885),s=n(311),i=n.n(s),c=n(791),o=n(565),u=n(689),l=n(731),d="BackLink_backLink__JiXo7",v=n(184),p=function(e){var t=e.to,n=e.children;return(0,v.jsx)(l.rU,{className:d,to:t,children:n})},f=n(19),h=n(673),m="MovieDetailsPage_description__pCbIB",_="MovieDetailsPage_descriptionThumb__VKMmK",g="MovieDetailsPage_descriptionThumbText__BXHsr",x="MovieDetailsPage_descriptionImage__+M9fs",j="MovieDetailsPage_descriptionThumbTitle__thQzf",k="MovieDetailsPage_descriptionText__1X0oz",w="MovieDetailsPage_genreList__URPK2",Z="MovieDetailsPage_infoThumb__HskMO",N="MovieDetailsPage_infoLinks__3qi-a",D="MovieDetailsPage_infoLink__wBUhX",P="MovieDetailsPage_active__Dq5R8";function b(){var e,t,n=(0,c.useState)(f.Z.IDLE),s=(0,a.Z)(n,2),d=s[0],b=s[1],E=(0,c.useState)(""),M=(0,a.Z)(E,2),y=M[0],L=M[1],S=(0,c.useState)(null),T=(0,a.Z)(S,2),U=T[0],I=T[1],R=(0,u.UO)().movieId,O=(0,u.TH)(),C=null!==(e=null===(t=O.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";(0,c.useEffect)((function(){b(f.Z.PENDING),B()}),[]);var B=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.dV)(R);case 3:t=e.sent,L(t),b(f.Z.RESOLVED),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),I(U),b(f.Z.REJECTED);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:["idle"===d&&(0,v.jsx)(v.Fragment,{}),"pending"===d&&(0,v.jsx)(h.Z,{}),"rejected"===d&&(0,v.jsx)("h2",{children:"Sorry, something went wrong."}),"resolved"===d&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:m,children:[(0,v.jsx)(p,{to:C,children:"Back to movie list"}),(0,v.jsxs)("div",{className:_,children:[(0,v.jsx)("img",{className:x,src:"https://image.tmdb.org/t/p/w200/".concat(y.poster_path),alt:y.title}),(0,v.jsxs)("div",{className:g,children:[(0,v.jsxs)("h3",{className:j,children:[y.title," (",y.release_date.substring(0,4),")"]}),(0,v.jsxs)("p",{className:k,children:["User score: ",Math.round(10*y.vote_average),"%"]}),(0,v.jsx)("h3",{className:j,children:"Overview"}),(0,v.jsx)("p",{className:k,children:y.overview}),(0,v.jsx)("h3",{className:j,children:"Genres:"}),(0,v.jsx)("ul",{className:w,children:y.genres.map((function(e){return(0,v.jsx)("li",{className:k,children:e.name},e.id)}))})]})]})]}),(0,v.jsxs)("div",{className:Z,children:[(0,v.jsx)("h2",{className:j,children:"Additional information"}),(0,v.jsxs)("div",{className:N,children:[(0,v.jsx)(l.OL,{to:"/movies/".concat(y.id,"/cast"),state:O.state,className:function(e){return e.isActive?P:D},children:"Cast"}),(0,v.jsx)(l.OL,{to:"/movies/".concat(y.id,"/reviews"),state:O.state,className:function(e){return e.isActive?P:D},children:"Reviews"})]})]}),(0,v.jsx)(c.Suspense,{fallback:(0,v.jsx)(h.Z,{}),children:(0,v.jsx)(u.j3,{})})]})]})}},565:function(e,t,n){n.d(t,{Ku:function(){return d},Wf:function(){return u},XT:function(){return o},dV:function(){return l},fI:function(){return v}});var r=n(861),a=n(311),s=n.n(a),i=n(44),c="cf2dcd3ffc41a0e9e457c0dc88fdeaf2";i.ZP.defaults.baseURL="https://api.themoviedb.org/3/";var o=function(){var e=(0,r.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("trending/movie/day?api_key=".concat(c));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("search/movie?query=".concat(t,"&api_key=").concat(c,"&language=en-US&page=1&include_adult=false"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("movie/".concat(t,"?api_key=").concat(c,"&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("movie/".concat(t,"/credits?api_key=").concat(c,"&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("movie/".concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},19:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}}}]);
//# sourceMappingURL=78.3073d084.chunk.js.map